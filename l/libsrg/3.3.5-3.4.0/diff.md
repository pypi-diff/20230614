# Comparing `tmp/libsrg-3.3.5-py3-none-any.whl.zip` & `tmp/libsrg-3.4.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,26 +1,27 @@
-Zip file size: 31596 bytes, number of entries: 24
+Zip file size: 32435 bytes, number of entries: 25
+-rw-r--r--  2.0 unx     1754 b- defN 23-Jun-14 19:59 libsrg/ElapsedTime.py
 -rw-r--r--  2.0 unx     2184 b- defN 23-May-22 23:49 libsrg/Info.py
 -rw-r--r--  2.0 unx     3532 b- defN 23-Jan-31 15:26 libsrg/LevelBanner.py
 -rw-r--r--  2.0 unx     1492 b- defN 23-Jan-18 20:30 libsrg/LoggerGUIProxy.py
 -rw-r--r--  2.0 unx     5511 b- defN 23-Jan-31 15:26 libsrg/LoggingAppBase.py
--rw-r--r--  2.0 unx     5733 b- defN 23-Jan-31 15:30 libsrg/LoggingCounter.py
+-rw-r--r--  2.0 unx     5656 b- defN 23-Jun-14 19:59 libsrg/LoggingCounter.py
 -rw-r--r--  2.0 unx      413 b- defN 23-Jan-31 15:26 libsrg/LoggingUtils.py
 -rw-r--r--  2.0 unx     1376 b- defN 23-Jan-08 15:03 libsrg/LoggingWatcher.py
 -rw-r--r--  2.0 unx     2680 b- defN 23-Jan-31 15:30 libsrg/NagiosBase.py
 -rw-r--r--  2.0 unx    14015 b- defN 23-May-01 17:29 libsrg/ReZFS.py
--rw-r--r--  2.0 unx     4214 b- defN 23-May-22 23:22 libsrg/Runner.py
+-rw-r--r--  2.0 unx     4449 b- defN 23-Jun-14 20:09 libsrg/Runner.py
 -rw-r--r--  2.0 unx     4035 b- defN 23-May-22 23:46 libsrg/Runner2.py
 -rw-r--r--  2.0 unx     6968 b- defN 23-Jun-08 00:08 libsrg/Stage0.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Jan-31 16:52 libsrg/__init__.py
 -rw-r--r--  2.0 unx    17507 b- defN 23-Jun-04 19:37 libsrg/ztool.py
 -rw-r--r--  2.0 unx     2214 b- defN 23-Feb-05 15:02 libsrg/TKGUI/GuiBase.py
 -rw-r--r--  2.0 unx      447 b- defN 22-Mar-14 16:04 libsrg/TKGUI/GuiRequest.py
 -rw-r--r--  2.0 unx     3414 b- defN 23-Feb-05 15:22 libsrg/TKGUI/GuiRequestQueue.py
 -rw-r--r--  2.0 unx    10692 b- defN 23-May-15 18:18 libsrg/TKGUI/LoggerGUI.py
 -rw-r--r--  2.0 unx        1 b- defN 23-Jan-31 17:16 libsrg/TKGUI/__init__.py
--rw-rw-rw-  2.0 unx     1069 b- defN 23-Jun-08 00:08 libsrg-3.3.5.dist-info/LICENSE.txt
--rw-r--r--  2.0 unx     3357 b- defN 23-Jun-08 00:08 libsrg-3.3.5.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-08 00:08 libsrg-3.3.5.dist-info/WHEEL
--rw-rw-rw-  2.0 unx        7 b- defN 23-Jun-08 00:08 libsrg-3.3.5.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1861 b- defN 23-Jun-08 00:08 libsrg-3.3.5.dist-info/RECORD
-24 files, 92814 bytes uncompressed, 28636 bytes compressed:  69.1%
+-rw-rw-rw-  2.0 unx     1069 b- defN 23-Jun-14 20:18 libsrg-3.4.0.dist-info/LICENSE.txt
+-rw-r--r--  2.0 unx     3357 b- defN 23-Jun-14 20:18 libsrg-3.4.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-14 20:18 libsrg-3.4.0.dist-info/WHEEL
+-rw-rw-rw-  2.0 unx        7 b- defN 23-Jun-14 20:18 libsrg-3.4.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1939 b- defN 23-Jun-14 20:18 libsrg-3.4.0.dist-info/RECORD
+25 files, 94804 bytes uncompressed, 29357 bytes compressed:  69.0%
```

## zipnote {}

```diff
@@ -1,7 +1,10 @@
+Filename: libsrg/ElapsedTime.py
+Comment: 
+
 Filename: libsrg/Info.py
 Comment: 
 
 Filename: libsrg/LevelBanner.py
 Comment: 
 
 Filename: libsrg/LoggerGUIProxy.py
@@ -51,23 +54,23 @@
 
 Filename: libsrg/TKGUI/LoggerGUI.py
 Comment: 
 
 Filename: libsrg/TKGUI/__init__.py
 Comment: 
 
-Filename: libsrg-3.3.5.dist-info/LICENSE.txt
+Filename: libsrg-3.4.0.dist-info/LICENSE.txt
 Comment: 
 
-Filename: libsrg-3.3.5.dist-info/METADATA
+Filename: libsrg-3.4.0.dist-info/METADATA
 Comment: 
 
-Filename: libsrg-3.3.5.dist-info/WHEEL
+Filename: libsrg-3.4.0.dist-info/WHEEL
 Comment: 
 
-Filename: libsrg-3.3.5.dist-info/top_level.txt
+Filename: libsrg-3.4.0.dist-info/top_level.txt
 Comment: 
 
-Filename: libsrg-3.3.5.dist-info/RECORD
+Filename: libsrg-3.4.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## libsrg/LoggingCounter.py

```diff
@@ -4,14 +4,15 @@
 import logging
 import sys
 import time
 from collections import Counter
 from importlib.metadata import version
 from typing import List
 
+from libsrg.ElapsedTime import ElapsedTime
 from libsrg.LevelBanner import LevelBanner
 from libsrg.LoggingUtils import level2str, libsrg_version
 
 log = logging.getLogger("libsrg.LoggingCounter")
 
 
 class LoggingCounter(logging.Handler):
@@ -30,17 +31,15 @@
         if self.__instance is not None:
             log.critical("Constructor called on existing singleton")
             raise Exception("LoggingCounter is designed as a singleton")
 
         # index is name of level, not numeric value
         self.count_at_level_name = Counter()
         self.frozen = False
-        self.start_time = time.time()
-        self.stop_time = None
-        self.elapsed_time = None
+        self.runtime = ElapsedTime("Runtime")
 
     def emit(self, record):
         if not self.frozen:
             lev = record.levelname
             # if lev not in self.count_at_level_name:
             #     self.count_at_level_name[lev] = 0
             self.count_at_level_name[lev] += 1
@@ -50,29 +49,28 @@
         lev_str: str = level2str(lev)
         return self.count_at_level_name[lev_str]
 
     def __log_atexit(self, logger: logging.Logger = None, log_level=logging.INFO):
         if logger is None:
             logger = log
         self.frozen = True
-        self.stop_time = time.time()
-        self.elapsed_time = self.stop_time - self.start_time
+        self.runtime.stop()
         ver = version('libsrg')
         olist: List[str] = [f"\n\n{sys.argv[0]} Using libsrg {ver} from {libsrg_version()}", "Logging Summary:"]
         lasttag = None
         for tag in ["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"]:
             if tag in self.count_at_level_name:
                 count = self.count_at_level_name[tag]
                 olist.append(f"Logging at Level {tag:10s} occurred {count:10d} times")
                 if count:
                     lasttag = tag
         if lasttag:
             banner = LevelBanner.find(lasttag, logging.WARNING)
             olist.append(banner)
-        olist.append(f"Elapsed time was {self.elapsed_time:.3f} seconds")
+        olist.append(f"Elapsed time was {self.runtime.elapsed():.3f} seconds")
         logger.log(log_level, "\n".join(olist))
         self.frozen = False
 
     @classmethod
     def config_and_attach(cls, stream_also=True, **kwargs) -> "LoggingCounter":
         """Performs logging.basicConfig and attaches counter
         see https://docs.python.org/3/library/logging.html#logging.basicConfig
```

## libsrg/Runner.py

```diff
@@ -1,12 +1,14 @@
 import logging
 import subprocess
 from pathlib import Path
 from typing import List, Optional,Union
 
+from libsrg.ElapsedTime import ElapsedTime
+
 
 class Runner:
     """
     Runner is a utility class to run a command as a subprocess and return results
     * command is passed as a list of program followed by zero or more arguments
       * if provided as a single string, call split to make it a list
     * Runner objects are single use
@@ -35,50 +37,53 @@
         :param rethrow: If true, rethrow any exceptions caught, else success set False
         :param verbose: If true, log the command before execution
         :param cwd: If set, run in this location on local node
         :param userat: Prepend ssh to cammand with this user@remote.node string
 
         """
         self.logger = logging.getLogger(self.__class__.__name__)
+        self.runtime= ElapsedTime("runtime")
 
         # _cmd is a list of program name and zero or more arguments
         # split it into a list if provided as a string
         if isinstance(cmd, str):
             self._cmd = cmd.split()
         else:
             self._cmd = cmd
         if userat:
             self._cmd = ["ssh", userat] + self._cmd
         # timeout (if specified) is a timeout to communicate in seconds
+        self.timeout = timeout
         self.userat = userat
         self.success = False
         self.so_bytes: bytearray
         self.se_bytes: bytearray
         self.verbose = verbose
         self.cwd = cwd
         self.ret: int = -1
         self.so_lines: List[str] = []
         self.se_lines: List[str] = []
         self.caught: Optional[Exception] = None
         self.p = None
         self.rethrow = rethrow
-        self.timeout = timeout
-        self._run_subprocess()
+        with self.runtime:
+            self._run_subprocess()
         if verbose:
             self.log()
 
+
     def log(self, lgr: logging.Logger = None, throw=False):
         if not lgr:
             lgr = self.logger
         if self.success:
-            lgr.info(f'Runner success={self.success} ret={self.ret} _cmd={self._cmd}  so_lines={self.so_lines}')
+            lgr.info(f'Runner success={self.success} ret={self.ret} _cmd={self._cmd}  runtime={self.runtime.elapsed():5.3f} so_lines={self.so_lines}')
         else:
             # noinspection PyPep8
             lgr.warning(
-                f'Runner success={self.success} ret={self.ret} _cmd={self._cmd}  so_lines={self.so_lines} se_lines={self.se_lines} ')
+                f'Runner success={self.success} ret={self.ret} _cmd={self._cmd}  runtime={self.runtime.elapsed():5.3f} so_lines={self.so_lines} se_lines={self.se_lines} ')
             if throw:
                 raise ChildProcessError(str(self))
 
     def raise_if_failed(self,lgr: logging.Logger = None,):
         self.log(lgr=lgr,throw=True)
 
     def _run_subprocess(self):
@@ -98,8 +103,8 @@
             self.success = False
             self.caught = ex
             if self.rethrow:
                 raise ex
 
     def __str__(self):
         # noinspection PyPep8
-        return f'Runner success={self.success} ret={self.ret} _cmd={self._cmd}  so_lines={self.so_lines} se_lines={self.se_lines}'
+        return f'Runner success={self.success} ret={self.ret} _cmd={self._cmd}  runtime={self.runtime.elapsed():5.3f} so_lines={self.so_lines} se_lines={self.se_lines}'
```

## Comparing `libsrg-3.3.5.dist-info/LICENSE.txt` & `libsrg-3.4.0.dist-info/LICENSE.txt`

 * *Files identical despite different names*

## Comparing `libsrg-3.3.5.dist-info/METADATA` & `libsrg-3.4.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: libsrg
-Version: 3.3.5
+Version: 3.4.0
 Summary: Base class for logging apps, Nagios, utilities
 Home-page: https://gitlab.com/SRG_gitlab/libsrg
 Author: Steven Goncalo
 Author-email: srg_pypi@ice9mail.com
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Development Status :: 5 - Production/Stable
```

## Comparing `libsrg-3.3.5.dist-info/RECORD` & `libsrg-3.4.0.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,24 +1,25 @@
+libsrg/ElapsedTime.py,sha256=42QnciNtBKFWe75Lqi_7vzgzlVjceq5TThSrLBXew58,1754
 libsrg/Info.py,sha256=ZgAbT4uB1WqZQvS6-nOnkkeZK-ufs8efvWqVWSjybd4,2184
 libsrg/LevelBanner.py,sha256=k2JC41LkQz9_bPCiGhejqkd7SO7_fiuBmo4Y_ETW9H4,3532
 libsrg/LoggerGUIProxy.py,sha256=qrgLnB0Gtmu5IXP9EzBpIpKWYphcVVQOmIpqWOH9Y6k,1492
 libsrg/LoggingAppBase.py,sha256=JCeaLFPTwQjVS2YnIHOh5ciK54u1lLXt_dwGP7hv-r0,5511
-libsrg/LoggingCounter.py,sha256=fL3E_lErmjSQDy9TPDn-m0_PASoOM7wlf3VQs2R4AEM,5733
+libsrg/LoggingCounter.py,sha256=5SQZCyb0Zj8GtnQOu3JxKFvp24zDNbU-xhdVHG-oyeY,5656
 libsrg/LoggingUtils.py,sha256=brhP-2YaCd69vI0CKWTFUZtiTRhj1ud4i-tApP4FWg0,413
 libsrg/LoggingWatcher.py,sha256=tZ803wbw_qvW8tSRDwAbBRQSCrMzhz-FIJsf_hCNIFo,1376
 libsrg/NagiosBase.py,sha256=5FniCUJ8ywFX8oM2q0gKQX2Wvz6J6yt0HT_WYfPniik,2680
 libsrg/ReZFS.py,sha256=8SInGf72nnju_MRpYqNPtf6VHAqesuZr50_wy7iPE_c,14015
-libsrg/Runner.py,sha256=ujgpms51fz5H43y_YXjhMorjrFfneVEd79Aajq3gMIA,4214
+libsrg/Runner.py,sha256=-L9voGr8ewOQLhtEsZUMUKRHuWpT-UsP_gDCU9PKvwY,4449
 libsrg/Runner2.py,sha256=UDgEAku-g5y9xRrAmr5ZYc4FpZ8rbxSTVX03DV07J8Q,4035
 libsrg/Stage0.py,sha256=6Ni-1rT8BXqEaboss8Sn2IITd_EZmYZCN_Lp9Lz0Cbg,6968
 libsrg/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 libsrg/ztool.py,sha256=Sx33JSJmBA20hljrj-xND1DI05_VWfy7wBrZ3xzKeOQ,17507
 libsrg/TKGUI/GuiBase.py,sha256=MG4D10voRxszQvglABmHG8GHqRNXNo6gWZmY77fpkGU,2214
 libsrg/TKGUI/GuiRequest.py,sha256=ZrUBxrpkAV8ITqbcr7br0-sX9iK69bx1_Fu7COKB5uc,447
 libsrg/TKGUI/GuiRequestQueue.py,sha256=SLoT-PdXgK4JgU-WcESlRwehZIEPBwRgPORn0Tm8Mws,3414
 libsrg/TKGUI/LoggerGUI.py,sha256=A2XBTtlvtNwnxFlw8xTkHkuCITxvgZlQfWjWeaAmejQ,10692
 libsrg/TKGUI/__init__.py,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-libsrg-3.3.5.dist-info/LICENSE.txt,sha256=ACwmltkrXIz5VsEQcrqljq-fat6ZXAMepjXGoe40KtE,1069
-libsrg-3.3.5.dist-info/METADATA,sha256=uGrZU8BJlGvNhqdnfmnI1hexF3THhATYUxcl94ktCaY,3357
-libsrg-3.3.5.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-libsrg-3.3.5.dist-info/top_level.txt,sha256=NYEOHhvqWFavgb_q4ADmjraMpsan8oFEQPXmMMHGvZ0,7
-libsrg-3.3.5.dist-info/RECORD,,
+libsrg-3.4.0.dist-info/LICENSE.txt,sha256=ACwmltkrXIz5VsEQcrqljq-fat6ZXAMepjXGoe40KtE,1069
+libsrg-3.4.0.dist-info/METADATA,sha256=e-jZT00YyYKhNlPutJdJEORCKE7RJ8wNbtUc-CAoq5c,3357
+libsrg-3.4.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+libsrg-3.4.0.dist-info/top_level.txt,sha256=NYEOHhvqWFavgb_q4ADmjraMpsan8oFEQPXmMMHGvZ0,7
+libsrg-3.4.0.dist-info/RECORD,,
```

